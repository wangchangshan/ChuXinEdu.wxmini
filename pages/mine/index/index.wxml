<scroll-view scroll-y class="scrollPage">
    <cu-custom bgColor="bg-gradual-blue" isBack="{{false}}">
        <view slot="content">åˆå¿ƒç¾æœ¯</view>
    </cu-custom>

    <view>
        <image src="../../../images/bg.png" style="width:100%;height:260rpx" mode="aspectFill"></image>
    </view>

    <!-- å¤´åƒéƒ¨åˆ† + æ€»è§ˆ -->
    <view style="top:-150rpx; position:relative;margin-bottom:10rpx" class='margin radius-lg shadow-lg bg-white'>
        <!-- å¤´åƒ -->
        <view class="cu-list menu-avatar">
            <view class="cu-item margin">
                <block wx:if="{{!impowered && canIUse}}">
                    <button wx:if="{{!curUser}}" open-type="getUserInfo" bindgetuserinfo="doLogin" class="cu-avatar xl round bg-grey">
                        <text class="avatar-text">ç™»å½•</text>
                    </button>
                    <view wx:else>è¯·å‡çº§å¾®ä¿¡ç‰ˆæœ¬</view>
                </block>
                <block wx:else>
                    <view class="cu-avatar xl round" style="background-image:url({{curUser.avatarUrl}});"></view>
                    <!-- <view class="text-sm text-center">
                        {{curUser.nickName}}
                    </view> -->
                </block>
                <view class="content margin-left">
                    <!-- æ¸¸å®¢ -->
                    <block wx:if="{{curUserType == 0}}">
                        <view class="text-grey">{{ curUserTypeName }}</view>
                    </block>
                    <!-- å­¦å‘˜ -->
                    <block wx:elif="{{curUser && curUserType == 1}}">
                        <view class="text-grey margin-top">
                            {{ displayName }}
                            <text class="cuIcon-{{studentSex == 'å¥³' ? 'fe': ''}}male text-{{studentSex == 'å¥³' ? 'red': 'blue'}}"></text>
                            <text class="margin-left text-sm">ç”Ÿæ—¥ï¼š{{studentBirthday}}</text>
                            <text></text>
                        </view>
                        <view class="text-gray text-sm flex">
                            <text>è”ç³»ç”µè¯ï¼š{{studentPhone}}</text>
                        </view>
                        <view class="text-gray text-sm">
                            <text>åœ°å€ï¼š{{studentAddress}}</text>
                        </view>
                    </block>
                    <!-- æ•™å¸ˆ -->
                    <block wx:elif="{{curUser && curUserType == 2}}">
                        <view class="text-grey">{{ displayName }}</view>
                        <view class="text-gray text-sm flex">
                            <text class="text-cut">
								<text class="margin-right-xs"></text> {{curUserTypeName}}
                            </text>
                        </view>
                    </block>
                </view>
            </view>
        </view>

        <!-- æ•™å¸ˆæ€»è§ˆ -->
        <block wx:if="{{curUser && curUserType == 2}}">
            <view class="cu-list grid col-4 no-border" style="margin-top:0;padding-top:10rpx">
                <view class="cu-item" wx:for="{{teacherOverview}}" wx:key>
                    <navigator open-type="navigate" hover-class='none' url="{{item.url}}">
                        <view class="text-black text-center text-xl">
                            {{item.num}}
                        </view>
                        <text>{{item.name}}</text>
                    </navigator>
                </view>
            </view>
        </block>

        <!-- å­¦å‘˜æ€»è§ˆ -->
        <block wx:if="{{curUser && curUserType == 1}}">
            <view class="cu-list grid col-3 no-border" style="margin-top:0;padding-top:10rpx">
                <view class="cu-item" wx:for="{{studentOverview}}" wx:key>
                    <navigator open-type="navigate" hover-class='none' url="{{item.url}}">
                        <view class="text-black text-center text-xl">
                            {{item.rest_course_count}}
                        </view>
                        <text>{{item.course_category_name}}</text>
                    </navigator>
                </view>
            </view>
        </block>
    </view>

	<!-- æ¸¸å®¢ -->
	<block wx:if="{{curUserType == 0}}">
        <view style="height:200px">
           
        </view>
    </block>

    <!-- æ•™å¸ˆæ•™åŠ¡ -->
    <block wx:if="{{curUser && curUserType == 2}}">
        <!-- æ•™å¸ˆæ•™åŠ¡éƒ¨åˆ† -->
        <view style="position:relative; top:-75px; margin-top:10rpx;" class='margin radius-lg shadow-lg bg-white'>
            <view class="cu-bar bg-white solid-bottom margin-top">
                <view class="padding text-xl text-black">
                    æ•™åŠ¡
                </view>
            </view>
            <view class="cu-list grid col-3 no-border">
                <view class="cu-item" wx:for="{{teacherEdu}}" wx:key>
                    <navigator open-type="navigate" hover-class='none' url="{{item.url}}">
                        <view class="cuIcon-{{item.icon}} text-{{item.color}}">
                        </view>
                        <text>{{item.name}}</text>
                    </navigator>
                </view>
            </view>
        </view>
    </block>

    <!-- å®¶é•¿åŠŸèƒ½â€”â€”æœ¬å‘¨è¯¾ç¨‹ -->
    <block wx:if="{{curUser && curUserType == 1}}">
        <view style="position:relative; top:-75px; margin-top:10rpx;" class='margin radius-lg shadow-lg bg-white'>
            <view class="cu-bar bg-white solid-bottom margin-top">
                <view class="padding text-xl text-black">
                    æœ¬å‘¨è¯¾ç¨‹å®‰æ’<text class="cuIcon-calendar text-green margin-left-xs"></text>
                </view>
            </view>
            <view class="cu-list menu sm-border margin-top">
                <view class="cu-item" wx:for="{{studentSchedule}}" wx:key>
                    <view class="content">
                        <text class="cuIcon-tagfill text-red"></text>
                        <text class="text-grey">{{item.courseWeekDay}}ï¼ˆ{{item.coursePeriod}}ï¼‰</text>
                    </view>
                    <view class="action">
                        <view class="cu-tag round bg-olive light">{{item.courseFolderName}}</view>
                    </view>
                </view>
				<view class="padding" wx:if="{{studentScheduleCount == 0}}">
					æœ¬å‘¨æ²¡æœ‰è¯¾ç¨‹äº†ğŸ˜Š
				</view>
            </view>
        </view>
    </block>

    <!-- å®¶é•¿åŠŸèƒ½â€”â€”å­¦å‘˜å¥—é¤å¡ -->
    <block wx:if="{{curUser && curUserType == 1}}" wx:for="{{studentPackages}}" wx:key>
        <view style="position:relative; top:-75px; margin-top:10rpx;" class='margin radius-lg shadow-lg bg-white'>
            <view class="cu-bar bg-white solid-bottom margin-top">
                <view class="padding text-lg text-black">
                    {{item.packageName}}
                </view>
            </view>
            <view class="margin-top flex">
                <text class="margin-left">æ€»è¯¾æ—¶: {{item.actualCourseCount}}</text>
                <text class="margin-left">å‰©ä½™è¯¾æ—¶æ•°: {{item.restCourseCount}}</text>
                <text class="margin-left">é‡‘é¢: ï¿¥{{item.actualPrice}}</text>
            </view>
            <view class="padding-top padding-left padding-right">
                <view class="flex">
                    <view class="cu-progress round sm">
                        <view class="bg-cyan" style="width:{{(item.actualCourseCount - item.restCourseCount) / item.actualCourseCount * 100}}%;"></view>
                    </view>
                    <block wx:if="{{item.restCourseCount == 0}}">
                        <text class="cuIcon-roundcheckfill text-green text-xs margin-left-xs"></text>
                    </block>
                    <block wx:else>
                        <text class="margin-left-xs text-sm">{{item.percentage}}%</text>
                    </block>
                </view>
            </view>
            <view class="text-gray text-sm text-right padding-sm">
            </view>
        </view>
    </block>

    <!-- æ³¨å†Œç™»é™†å¼¹å‡ºæ¡† -->
    <view class="cu-modal {{isModalShow}}">
        <view class="cu-dialog">
            <view class="cu-bar bg-white justify-end">
                <view class="content text-black text-bold">è¯·é€‰æ‹©èº«ä»½è§’è‰²</view>
                <view class="action" bindtap="hideModal">
                    <text class="cuIcon-close text-red"></text>
                </view>
            </view>
            <view class="padding-xl">
                <scroll-view scroll-x class="bg-white nav">
                    <view class="flex text-center">
                        <view class="cu-item flex-sub {{1==activeTabIndex ? 'text-blue cur':''}}" bindtap="tabSelect" data-id="1">
                            æˆ‘æ˜¯å®¶é•¿
                        </view>
                        <view class="cu-item flex-sub {{2==activeTabIndex ? 'text-blue cur': ''}}" bindtap="tabSelect" data-id="2">
                            æˆ‘æ˜¯æ•™å¸ˆ
                        </view>
                    </view>
                </scroll-view>
                <view wx:if="{{activeTabIndex == 1}}">
                    <form>
                        <view class="cu-form-group margin-top ">
                            <view class="title ">å­©å­å­¦å·ï¼š</view>
                            <input placeholder="è¯·è¾“å…¥" value="{{studentCode}}" bindblur="blurStudentCode"></input>
                        </view>
                        <view class="cu-form-group ">
                            <view class="title ">å­©å­å§“åï¼š</view>
                            <input placeholder="è¯·è¾“å…¥" value="{{studentName}}" bindblur="blurStudentName"></input>
                        </view>
                    </form>
                </view>
                <view wx:else>
                    <form>
                        <view class="cu-form-group margin-top ">
                            <view class="title ">æ•™å¸ˆæˆæƒç ï¼š</view>
                            <input placeholder="è¯·è¾“å…¥" value="{{teacherKey}}" bindblur="blurTeacherKey"></input>
                        </view>
                    </form>
                </view>
                <view class="action margin-top ">
                    <button class="cu-btn bg-green shadow" bindtap="submitRole">æ äº¤</button>
                </view>
                <view wx:if="{{showTips}}" class="text-red text-center">
                    æ³¨æ„ï¼šè¾“å…¥å†…å®¹ä¸èƒ½ä¸ºç©ºï¼
                </view>
                <view wx:if="{{studentTips != ''}}" class="text-red text-center">
                    {{studentTips}}
                </view>
                <view wx:if="{{teacherTips != ''}}" class="text-red text-center">
                    {{teacherTips}}
                </view>
            </view>
        </view>
    </view>

    <!-- <view class='cu-tabbar-height'></view> -->
</scroll-view>